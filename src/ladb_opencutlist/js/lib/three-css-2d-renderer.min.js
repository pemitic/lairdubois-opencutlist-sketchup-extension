!function(){class e extends THREE.Object3D{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}const h=new THREE.Vector3,o=new THREE.Matrix4,p=new THREE.Matrix4,i=new THREE.Vector3,s=new THREE.Vector3;THREE.CSS2DObject=e,THREE.CSS2DRenderer=class{constructor(e={}){const l=this;let n,r,a,d;const c={objects:new WeakMap},m=void 0!==e.element?e.element:document.createElement("div");function u(e,t){return i.setFromMatrixPosition(e.matrixWorld),s.setFromMatrixPosition(t.matrixWorld),i.distanceToSquared(s)}m.style.overflow="hidden",this.domElement=m,this.getSize=function(){return{width:n,height:r}},this.render=function(e,t){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),o.copy(t.matrixWorldInverse),p.multiplyMatrices(t.projectionMatrix,o),function n(r,o,i){if(r.isCSS2DObject){h.setFromMatrixPosition(r.matrixWorld),h.applyMatrix4(p);const e=!0===r.visible&&-1<=h.z&&h.z<=1&&!0===r.layers.test(i.layers);if(r.element.style.display=!0==e?"":"none",!0==e){r.onBeforeRender(l,o,i);const s=r.element;s.style.transform="translate(-50%,-50%) translate("+(h.x*a+a)+"px,"+(-h.y*d+d)+"px)",s.parentNode!==m&&m.appendChild(s),r.onAfterRender(l,o,i)}const t={distanceToCameraSquared:u(i,r)};c.objects.set(r,t)}for(let e=0,t=r.children.length;e<t;e++)n(r.children[e],o,i)}(e,e,t);var n=function(e){const t=[];return e.traverse(function(e){e.isCSS2DObject&&t.push(e)}),t}(e).sort(function(e,t){return e.renderOrder!==t.renderOrder?t.renderOrder-e.renderOrder:c.objects.get(e).distanceToCameraSquared-c.objects.get(t).distanceToCameraSquared}),r=n.length;for(let e=0,t=n.length;e<t;e++)n[e].element.style.zIndex=r-e},this.setSize=function(e,t){n=e,r=t,a=n/2,d=r/2,m.style.width=e+"px",m.style.height=t+"px"}}}}();